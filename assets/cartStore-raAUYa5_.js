import{a as i}from"./axios-G2rPRu76.js";import{h as c,S as e}from"./index-LmU9Rl5N.js";var f={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"gopopov",VITE_POKEMON_API:"https://pokeapi.co/api/v2",BASE_URL:"/PokemonMachineShop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:a,VITE_PATH:o}=f,h=c("cart",{state:()=>({carts:{},isCartsLoading:!0,isUpdating:!1}),actions:{getCart(){this.isCartsLoading=!0,i.get(`${a}/api/${o}/cart`).then(t=>{this.carts=t.data.data,this.isCartsLoading=!1}).catch(t=>{e.fire({position:"top-end",icon:"false",title:"讀取購物車失敗，請聯繫管理員",showConfirmButton:!1,timer:1e3}),console.dir(t),this.isCartsLoading=!1})},addToCart(t,s){this.isUpdating=!0;const n={data:{product_id:`${t}`,qty:s}};i.post(`${a}/api/${o}/cart`,n).then(r=>{this.isUpdating=!1,e.fire({title:"加入購物車成功",position:"center-end",icon:"success",timer:1e3,showConfirmButton:!1,showCancelButton:!1})}).catch(r=>{e.fire({position:"top-end",icon:"false",title:"加入購物車失敗，請聯繫管理員",showConfirmButton:!1,timer:1e3}),console.dir(r),this.isUpdating=!1})},deleteCart(t){this.isCartsLoading=!0,i.delete(`${a}/api/${o}/cart/${t}`).then(s=>{e.fire({title:"刪除成功",icon:"success",timer:500,showConfirmButton:!1,showCancelButton:!1}),this.getCart()}).catch(s=>{e.fire({icon:"false",title:"刪除失敗，請聯繫管理員",showConfirmButton:!1,timer:1e3}),console.dir(s),this.isCartsLoading=!1})}}});export{h as c};
