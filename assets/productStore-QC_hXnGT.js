import{u as c,k as s,S as r}from"./index-5ozguhQ_.js";var n={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"popovgo",VITE_POKEMON_API:"https://pokeapi.co/api/v2",BASE_URL:"/PokemonMachineShop/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_URL:a,VITE_PATH:i}=n,l=c("product",{state:()=>({products:[],allProducts:[],product:{},carts:{},tempProduct:{},productModal:null,isProductsLoading:!0,isProductLoading:!0,isUpdating:!0,isCartAdded:!1,cartAddedMessage:"",qty:1,orderData:{data:{user:{name:"test",email:"test@gmail.com",tel:"0912346768",address:"kaohsiung"},message:"這是留言"}}}),actions:{openModal(t){this.tempProduct=t,this.$refs.userModal.open()},async getAllProducts(){this.isProductsLoading=!0;try{const t=await s.get(`${a}/api/${i}/products/all`);this.allProducts=t.data}catch(t){r.fire({position:"top-end",icon:"error",title:"讀取所有產品失敗，請聯繫管理員",showConfirmButton:!1,timer:1e3}),console.dir(t)}finally{this.isProductsLoading=!1}},async getProducts(t="",o=!1,d=""){this.isProductsLoading=!0,s.get(`${a}/api/${i}/products?page=${t}&category=${d}`).then(e=>{this.products=e.data,o!==!1&&window.scrollTo({top:o,behavior:"smooth"})}).catch(e=>{r.fire({position:"top-end",icon:"error",title:"讀取產品清單失敗，請聯繫管理員",showConfirmButton:!1,timer:1e3}),console.dir(e)}).finally(()=>{this.isProductsLoading=!1})},async getProduct(t){this.isProductLoading=!0;try{const o=await s.get(`${a}/api/${i}/product/${t}`);this.product=o.data.product}catch(o){r.fire({position:"top-end",icon:"error",title:"讀取單一產品失敗，請聯繫管理員",showConfirmButton:!1,timer:1e3}),console.dir(o)}finally{this.isProductLoading=!1}}}});export{l as p};
