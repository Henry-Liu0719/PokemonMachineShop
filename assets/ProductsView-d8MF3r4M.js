import{_ as L,f,m as b,r as y,o,c as i,a as t,b as v,w as k,F as d,g as l,n as c,t as n,e as w}from"./index-nsHCg3Zr.js";import{p as O}from"./productStore-iozZV4ez.js";import{p as P}from"./pokemonStore-Ku7wTDhO.js";import{_ as A}from"./Animation - 1710557059960-SOXLnD8x.js";import"./axios-G2rPRu76.js";const x={data(){return{yOffset:0,filterdProducts:{}}},components:{},methods:{...f(O,["openModal","addToCart","getAllProducts","filterType"]),...f(P,["exportTypeNamesList"]),async init(){const e=this.$route.query.category||"";await this.getAllProducts(1,0,e),this.exportTypeNamesList()},filterType(e="岩石"){this.filterdProducts.products=this.products.products.filter(a=>a.unit===e),window.scrollTo({top:this.yOffset,behavior:"smooth"})}},mounted(){this.init(),this.yOffset=document.querySelector("div.container.mt-md-5.mt-3.mb-7 > div > div.col-8 > div > h4").getBoundingClientRect().top+window.pageYOffset},computed:{...b(O,["products","isProductsLoading"]),...b(P,["typeNameList"])},watch:{products(){this.filterdProducts={...this.products}}}},S=t("div",{class:"container"},null,-1),$={class:"container mt-md-5 mt-3 mb-7"},j=t("img",{src:A,alt:"",class:"img-fluid"},null,-1),B={class:"row"},V={class:"col-4"},q={class:"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-3",id:"accordionExample"},E={class:"card border-0"},F=t("div",{class:"card-header px-0 py-4 bg-white border border-bottom-0 border-top border-start-0 border-end-0 rounded-0",id:"headingOne","data-bs-toggle":"collapse","data-bs-target":"#collapseOne"},[t("div",{class:"d-flex justify-content-between align-items-center pe-1"},[t("h4",{class:"mb-0"}," 屬性瀏覽 ")])],-1),z={id:"collapseOne",class:"collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},D={class:"card-body py-0"},M={class:"list-unstyled"},R=["onClick"],U={class:"col-8"},Y={class:"row"},G={class:"card border-0 mb-4 position-relative position-relative"},H=["src"],I=t("a",{href:"#",class:"text-dark"},[t("i",{class:"far fa-heart position-absolute",style:{right:"16px",top:"16px"}})],-1),J={class:"card-body p-0"},K={class:"mb-0 mt-3"},Q={class:"card-text mb-0"},W={class:"text-muted"},X=t("p",{class:"text-muted mt-3"},null,-1),Z={class:"d-flex justify-content-center"},tt={class:"pagination"},st={class:"page-item"},et=t("span",{"aria-hidden":"true"},"«",-1),ot=[et],it=["onClick"],at={class:"page-item"},rt=t("span",{"aria-hidden":"true"},"»",-1),nt=[rt];function dt(e,a,ct,lt,r,pt){var p,u,_,m,h,g;const C=y("loadingOverlay"),N=y("router-link");return o(),i(d,null,[S,t("div",$,[v(C,{active:e.isProductsLoading,"is-full-page":!0},{default:k(()=>[j]),_:1},8,["active"]),t("div",B,[t("div",V,[t("div",q,[t("div",E,[F,t("div",z,[t("div",D,[t("ul",M,[(o(!0),i(d,null,l(Object.entries(e.typeNameList),s=>(o(),i("li",{key:s[0]},[t("button",{href:"#",class:"m-2 page-link py-2 d-block text-muted",onClick:T=>{e.isLoading=!0,e.getAllProducts(1,r.yOffset,s[1])}},n(s[1]),9,R)]))),128))])])])])])]),t("div",U,[t("div",Y,[t("h4",{class:c(["opacity-0 mt-6",{"opacity-100":!((p=r.filterdProducts.products)!=null&&p.length)}])},"無相符的查詢結果",2),(o(!0),i(d,null,l(r.filterdProducts.products,s=>(o(),i("div",{class:"col-md-6",key:s.id},[t("div",G,[t("img",{src:s.imageUrl,class:"card-img-top rounded-0 object-fit-contain",alt:"product.description",style:{width:"10rem",height:"10rem"}},null,8,H),I,t("div",J,[t("h4",K,[v(N,{to:{path:"product",query:{id:s.id}}},{default:k(()=>[w(n(s.content)+" "+n(s.unit),1)]),_:2},1032,["to"])]),t("p",Q,[w("NT$"+n(s.price)+" ",1),t("span",W,[t("del",null,"NT$"+n(s.origin_price),1)])]),X])])]))),128))]),t("nav",Z,[t("ul",tt,[t("li",st,[t("button",{class:c(["page-link",{disabled:!((_=(u=e.products)==null?void 0:u.pagination)!=null&&_.has_pre)}]),"aria-label":"Previous",onClick:a[0]||(a[0]=s=>e.getAllProducts(e.products.pagination.current_page-1,r.yOffset))},ot,2)]),(o(!0),i(d,null,l((m=e.products.pagination)==null?void 0:m.total_pages,s=>(o(),i("li",{class:c(["page-item",{active:e.products.pagination.current_page==s}]),key:s},[t("button",{class:"page-link",onClick:T=>e.getAllProducts(s,r.yOffset)},n(s),9,it)],2))),128)),t("li",at,[t("button",{class:c(["page-link",{disabled:!((g=(h=e.products)==null?void 0:h.pagination)!=null&&g.has_next)}]),"aria-label":"Next",onClick:a[1]||(a[1]=s=>e.getAllProducts(e.products.pagination.current_page+1,r.yOffset))},nt,2)])])])])])])],64)}const ft=L(x,[["render",dt]]);export{ft as default};
